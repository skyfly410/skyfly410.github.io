!function(a){a.extend(a.easing,{easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c}}),dvslider=function(b,c){var f,g,h,j,k,l,m,n,o,x,y,A,d=this,e={firstSlide:1,animationWait:6e3,animationSpeed:800,animationEasing:"easeInOutQuint",animationEasingCss:"ease-in-out",autoChange:!1,pager:!0,nav:!1,count:!1,swiping:!0,pagerClass:"",gap:0,width:function(a){return a.outerWidth()},onChange:function(a,b,c){}},p=0,q=!1,r=!0,s=!1,t=0,u=0,v=0,w=!1,z=0,B=!1,C=!1,D=!1,E=function(){if("object"==typeof Modernizr&&(B=!!Modernizr.csstransforms,C=!!Modernizr.csstransforms3d,D=!!Modernizr.csstransitions),A=a.extend(e,c),f=parseInt(Math.random()*(new Date).getTime()),b=a(b),g=a(".dvslider-slider",b),b.on("mouseenter.dvslider",L).on("mouseleave.dvslider",M),b.on("click","[data-dvslider-change]",U),p=a(".dvslider-slide",b).size(),a(".dvslider-slide-bg",b).each(function(){a(this).closest(".dvslider-slide").css("backgroundImage",'url("'+a(this).attr("src")+'")'),a(this).hide()}),p>1){if(A.firstSlide>0&&A.firstSlide<p&&(z=A.firstSlide-1),a(".dvslider-slide",b).removeClass("active").eq(z).addClass("active"),A.pager){for(h=a("<div/>",{class:"dvslider-pager disabled "+A.pagerClass}),j=a("<div/>",{class:"dvslider-pager-slider"}).appendTo(h),i=1;i<=p;i++){var d=a(".dvslider-slide",b).eq(i-1),q=d.data("pager")?'<img src="'+d.data("pager")+'" alt="'+d.attr("title")+'"/>':i;a("<a/>",{title:d.attr("title"),html:q,"data-index":i}).appendTo(j)}j.on("click","a",function(){J(a(this).index())}).children().eq(z).addClass("active"),K(z),b.append(h)}F(),a(window).on("resize.dvslider orientationchange.dvslider",function(){F()}),A.nav&&(k=a("<a/>",{class:"dvslider-next disabled"}).on("click",function(){H()}).appendTo(b),l=a("<a/>",{class:"dvslider-prev disabled"}).on("click",function(){I()}).appendTo(b)),A.count&&(m=a("<div/>",{class:"dvslider-count"}).append(o=a("<span/>",{class:"dvslider-count-current",html:z+1}),"/",n=a("<span/>",{class:"dvslider-count-total",html:p})).appendTo(b)),"complete"==document.readyState?G():a(window).on("load",function(){G()})}else F(),a(window).on("resize.dvslider orientationchange.dvslider",function(){F()});A.onChange(b,a(".dvslider-slide",b).eq(z))},F=function(){var c=A.width(b);g.stop().css({width:p*c+(p-1)*A.gap}),S(0-z*c-z*A.gap),a(".dvslider-slide",b).css("width",c),x&&clearTimeout(x),A.autoChange&&(x=setTimeout(function(){N()},A.animationWait)),K(z)},G=function(){A.swiping&&g.on("touchstart.dvslider touchmove.dvslider touchend.dvslider touchcancel.dvslider",function(a){"touchstart"==a.type?O(a):"touchmove"==a.type?P(a):Q(a)}),p>1&&(A.pager&&h.removeClass("disabled"),A.nav&&(z>0&&l.removeClass("disabled"),z+1<p&&k.removeClass("disabled"))),A.autoChange&&(x=setTimeout(function(){N()},A.animationWait)),r=!1},H=function(){J(z+1)},I=function(){J(z-1)},J=function(c,d){if(!r&&c>=0&&c+1<=p){r=!0,A.onChange(b,a(".dvslider-slide",b).eq(c),a(".dvslider-slide",b).eq(z)),a(".dvslider-slide",b).removeClass("active").eq(c).addClass("active"),clearTimeout(x),K(c),A.nav&&(c>0?l.removeClass("disabled"):l.addClass("disabled"),c+1<p?k.removeClass("disabled"):k.addClass("disabled")),A.count&&o.html(c+1);var e=A.width(b),f=c*e+c*A.gap;R(-f,d,function(){z=c,s=!1,r=!1,A.autoChange&&(x=setTimeout(function(){N()},A.animationWait))})}},K=function(a){if(A.pager&&p>1){j.find("a.active").removeClass("active"),j.children().eq(a).addClass("active");var b=j.outerWidth(),c=h.outerWidth();if(b>c){var d=parseInt(j.children().eq(a).outerWidth())+parseInt(j.children().eq(a).css("marginLeft"))+parseInt(j.children().eq(a).css("marginRight")),e=j.children().eq(a).position().left,f=c/2-e-d/2;f>0&&(f=0),f<c-b&&(f=c-b),T(f)}else T(0)}},L=function(){q=!0},M=function(){q=!1,w&&!r&&(w=!1,A.autoChange&&(x=setTimeout(function(){N()},A.animationWait/2)))},N=function(){s||q?w=!0:J(z+1<p?z+1:0)},O=function(a){r||(s=!0,v=Number(new Date),t=u=a.originalEvent.touches[0].pageX)},P=function(a){if(s){u=a.originalEvent.touches[0].pageX;var c=t-u,d=A.width(b),e=0-z*d-c;S(e)}},Q=function(a){if(s){var c=A.width(b),d=t-u;z+1<p&&(d>.5*c||d>.1*c&&Number(new Date)-v<250)?J(z+1):z-1>=0&&(d<c*-.5||d<c*-.1&&Number(new Date)-v<250)?J(z-1):R(0-z*c,A.animationSpeed/2,function(){s=!1,w&&!r&&(w=!1,A.autoChange&&(x=setTimeout(function(){N()},A.animationWait/2)))})}else{var c=A.width(b);R(0-z*c,A.animationSpeed/2,function(){w&&!r&&(w=!1,A.autoChange&&(x=setTimeout(function(){N()},A.animationWait/2)))})}},R=function(a,b,c){var d=s?"linear":A.animationEasing,e=s?"linear":A.animationEasingCss;"undefined"==typeof b&&(b=A.animationSpeed),C?D?g.css({transition:"all 0."+b+"s "+e+" 0s",transform:"translate3d("+a+"px,0,0)"}):g.stop().animate({dvvalue:a},{step:function(a,b){g.css("transform","translate3d("+a+"px,0,0)")},duration:b,easing:d,always:c}):B?D?g.css({transition:"all 0."+b+"s "+A.animationEasingCss+" 0s",transform:"translateX("+a+"px)"}):g.stop().animate({dvvalue:a},{step:function(a,b){g.css({transform:"translateX("+a+"px)"})},duration:b,easing:d,always:c}):D?g.css({transition:"all 0."+b+"s "+A.animationEasingCss+" 0s",marginLeft:a}):g.stop().animate({marginLeft:a},{duration:b,easing:d,always:c}),D&&(y=setTimeout(c,b))},S=function(a){C?g.stop().css({transition:"all 0s linear 0s",transform:"translate3d("+a+"px,0,0)"})[0].dvvalue=a:B?g.stop().css({transition:"all 0s linear 0s",transform:"translateX("+a+"px)"})[0].dvvalue=a:g.stop().css({transition:"all 0s linear 0s",marginLeft:a})},T=function(a){var b="linear",c="linear",d=A.animationSpeed/2;C?D?j.css({transition:"all 0."+d+"s "+c+" 0s",transform:"translate3d("+a+"px,0,0)"}):j.stop().animate({dvvalue:a},{step:function(a,b){j.css("transform","translate3d("+a+"px,0,0)")},duration:d,easing:b}):B?D?j.css({transition:"all 0."+d+"s "+A.animationEasingCss+" 0s",transform:"translateX("+a+"px)"}):j.stop().animate({dvvalue:a},{step:function(a,b){j.css({transform:"translateX("+a+"px)"})},duration:d,easing:b}):D?j.css({transition:"all 0."+d+"s "+A.animationEasingCss+" 0s",marginLeft:a}):j.stop().animate({marginLeft:a},{duration:d,easing:b})},U=function(c){c.preventDefault();var d=a(this).data("dvslider-change");"next"==d?H():"prev"==d?I():d==parseInt(d)?J(parseInt(d)-1):b.find(d).hasClass("dvslider-slide")&&J(b.find(d).index())};d.next=function(){H()},d.prev=function(){I()},d.change=function(a){J(a-1)},d.resize=function(){F()},d.destroy=function(){x&&clearTimeout(x),y&&clearTimeout(y),a(".dvslider-slide",b).last().remove(),b.off(".dvslider")},E()},a.fn.dvslider=function(a,b){return this.each(function(){"undefined"!=typeof this.dvslider?"undefined"!=typeof a&&"function"==typeof this.dvslider[a]&&this.dvslider[a](b):this.dvslider=new dvslider(this,a)})},a.dvslider=function(a){return"function"!=typeof this?this:new dvslider(null,a)}}(jQuery);
